import{D as H,r as I,E as J,G as K,h as Y,I as y,o as s,c as a,b as L,w as M,d as g,a as e,m as t,v as N,J as l,K as f,t as i,x as v,F as x,s as h,L as V,q as T,T as Z,H as $,C as S}from"./entry.9904866f.js";import{d as z,u as G,a as w,r as O,m as E,c as Q}from"./validationRules.f52e0ca5.js";const W={class:"min-h-screen flex flex-row justify-center items-center bg-zinc-100 dark:bg-zinc-900"},X={class:"max-h-screen flex flex-row max-w-4xl bg-white dark:bg-zinc-800 shadow-md overflow-hidden rounded-xl"},ee={class:"flex items-center p-12 py-auto w-full"},te=["onSubmit"],re=e("div",{class:"mb-4 text-left"},[e("p",{class:"text-2xl font-bold mb-1 dark:!text-zinc-100"},[e("span",null,"Daftar")]),e("p",{class:"max-w-full text-sm mx-auto text-zinc-500 dark:text-zinc-400"}," Masukkan data diri untuk memulai menggunakan aplikasi. ")],-1),se={class:"mt-4"},ae=e("label",{for:"name",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Nama ",-1),oe={class:"relative text-zinc-400 transition focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500"},ne={class:"text-rose-700 text-xs mt-1 flex flex-col ml-4"},ie={class:"list-disc list-outside"},de={key:0},le={class:"mt-4"},ce=e("label",{for:"username",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Username ",-1),ue={class:"relative text-zinc-400 transition focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500"},me={class:"text-rose-700 text-xs mt-1 flex flex-col ml-4"},fe={class:"list-disc list-outside"},xe={key:0},he={class:"mt-4"},ke=e("div",{class:"flex justify-between"},[e("label",{for:"password",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Password ")],-1),be={class:"relative text-zinc-400 focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500 transition"},pe=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"w-5 h-5 stroke-current",fill:"currentColor","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"},[e("path",{d:"M 12 1 C 8.6761905 1 6 3.6761905 6 7 L 6 8 C 4.9069372 8 4 8.9069372 4 10 L 4 20 C 4 21.093063 4.9069372 22 6 22 L 18 22 C 19.093063 22 20 21.093063 20 20 L 20 10 C 20 8.9069372 19.093063 8 18 8 L 18 7 C 18 3.6761905 15.32381 1 12 1 z M 12 3 C 14.27619 3 16 4.7238095 16 7 L 16 8 L 8 8 L 8 7 C 8 4.7238095 9.7238095 3 12 3 z M 6 10 L 18 10 L 18 20 L 6 20 L 6 10 z M 12 13 C 10.9 13 10 13.9 10 15 C 10 16.1 10.9 17 12 17 C 13.1 17 14 16.1 14 15 C 14 13.9 13.1 13 12 13 z"})])],-1),ge={class:"text-rose-700 text-xs mt-1 flex flex-col ml-4"},ve={class:"list-disc list-outside"},ze={key:0},we={class:"flex mt-6 mb-4"},_e=["disabled"],Ce={key:0,class:"flex flex-row justify-center"},ye=S('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),Le=[ye],Me=e("div",null,"Mengecek data",-1),Ne={key:1},Ve={class:"text-sm mx-auto text-zinc-500 text-center"},Te=e("div",{class:"mb-4 text-left"},[e("p",{class:"text-2xl font-bold mb-1"},[e("span",null,"Masuk")]),e("p",{class:"max-w-full text-sm mx-auto text-zinc-500 dark:text-zinc-400"}," Silahkan masuk dengan data akun anda untuk menjalankan aplikasi. ")],-1),Se=e("label",{for:"username",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Username ",-1),qe={class:"relative text-zinc-400 transition focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500"},Be={class:"text-rose-500 mt-1 text-xs"},Fe={class:"mt-4"},Pe=e("div",{class:"flex justify-between"},[e("label",{for:"password",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Password ")],-1),Ue={class:"relative text-zinc-400 focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500 transition"},je=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"w-5 h-5 stroke-current",fill:"currentColor","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"},[e("path",{d:"M 12 1 C 8.6761905 1 6 3.6761905 6 7 L 6 8 C 4.9069372 8 4 8.9069372 4 10 L 4 20 C 4 21.093063 4.9069372 22 6 22 L 18 22 C 19.093063 22 20 21.093063 20 20 L 20 10 C 20 8.9069372 19.093063 8 18 8 L 18 7 C 18 3.6761905 15.32381 1 12 1 z M 12 3 C 14.27619 3 16 4.7238095 16 7 L 16 8 L 8 8 L 8 7 C 8 4.7238095 9.7238095 3 12 3 z M 6 10 L 18 10 L 18 20 L 6 20 L 6 10 z M 12 13 C 10.9 13 10 13.9 10 15 C 10 16.1 10.9 17 12 17 C 13.1 17 14 16.1 14 15 C 14 13.9 13.1 13 12 13 z"})])],-1),Ae={class:"text-rose-500 mt-1 text-xs"},De={class:"flex mt-6 mb-4"},Re=["disabled"],He={key:0,class:"flex flex-row justify-center"},Ie=S('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),Je=[Ie],Ke=e("div",null,"Mengecek data",-1),Ye={key:1},Ze={class:"text-sm mx-auto text-zinc-500 text-center"},Ee={__name:"login",setup($e){z("required",O),z("min",E),z("createPassword",Q);const q={name:"required|min:1",username:"required",password:"required|min:6|createPassword:1"},{validate:B,errors:c}=G({validationSchema:q}),{value:F}=w("name",null,{initialValue:"",label:"Nama"}),{value:P}=w("username",null,{initialValue:"",label:"Email"}),{value:U}=w("password",null,{initialValue:"",label:"Kata sandi"}),{loginForm:k,validationErrors:_,registerValidationErrors:b,processing:n,submitLogin:C,submitRegister:j}=H(),u=I(!1),p=J(),d=K({name:F,username:P,password:U});function A(){B().then(m=>{m.valid&&j(d)})}return Y(()=>{{let m={};m=localStorage.getItem("token"),m?(p.value=JSON.parse(localStorage.getItem("token")),p.value&&y("/")):(p.value="",y("/login"))}}),(m,o)=>{const D=Z,R=$;return s(),a("div",null,[L(R,null,{default:M(()=>[L(D,null,{default:M(()=>[g("Login â€¢ Test Fullstack Nibros")]),_:1})]),_:1}),e("div",W,[e("div",X,[e("div",ee,[t(u)===!0?(s(),a("form",{key:0,onSubmit:N(A,["prevent"])},[re,e("div",se,[ae,e("div",oe,[l(e("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=r=>t(d).name=r),class:"block mt-1 w-full pl-4 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"Nibros Ari",autocomplete:"on",required:"",autofocus:""},null,512),[[f,t(d).name]])]),e("div",ne,[e("ul",ie,[t(c).name?(s(),a("li",de,i(t(c).name),1)):v("",!0),(s(!0),a(x,null,h(t(b).name,r=>(s(),a("li",{key:r},i(r),1))),128))])])]),e("div",le,[ce,e("div",ue,[l(e("input",{type:"text",id:"username","onUpdate:modelValue":o[1]||(o[1]=r=>t(d).username=r),class:"block mt-1 w-full pl-4 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"nibroos",autocomplete:"on",required:"",autofocus:""},null,512),[[f,t(d).username]])]),e("div",me,[e("ul",fe,[t(c).username?(s(),a("li",xe,i(t(c).username),1)):v("",!0),(s(!0),a(x,null,h(t(b).username,r=>(s(),a("li",{key:r},i(r),1))),128))])])]),e("div",he,[ke,e("div",be,[pe,l(e("input",{type:"password",id:"password","onUpdate:modelValue":o[2]||(o[2]=r=>t(d).password=r),class:"block mt-1 w-full pl-11 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"Password",required:"",autocomplete:"current-password"},null,512),[[f,t(d).password]])]),e("div",null,[e("div",ge,[e("ul",ve,[t(c).password?(s(),a("li",ze,i(t(c).password),1)):v("",!0),(s(!0),a(x,null,h(t(b).password,r=>(s(),a("li",{key:r},i(r),1))),128))])])])]),e("div",we,[e("button",{class:"px-4 py-2.5 bg-emerald-600 border border-transparent rounded-md text-sm text-white text-center tracking-widest hover:bg-emerald-700 active:bg-emerald-900 focus:outline-none focus:border-emerald-900 focus:ring focus:ring-emerald-300 dark:focus:ring-emerald-600 transition content-center items-center self-center flex-1 font-extrabold disabled:bg-emerald-500 dark:disabled:bg-emerald-600",disabled:t(n)},[t(n)?(s(),a("div",Ce,[l((s(),a("svg",{class:T([{"text-white":t(n)},"animate-spin w-4 h-5 mr-2"]),xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor"},Le,2)),[[V,t(n)]]),Me])):(s(),a("div",Ne,"Buat Akun"))],8,_e)]),e("p",Ve,[g(" Sudah punya akun? "),e("span",{class:"text-emerald-600 hover:text-emerald-800 cursor-pointer underline",onClick:o[3]||(o[3]=r=>u.value=!t(u))},"Masuk")])],40,te)):(s(),a("form",{key:1,onSubmit:o[7]||(o[7]=N((...r)=>t(C)&&t(C)(...r),["prevent"])),class:"dark:!text-zinc-100"},[Te,e("div",null,[Se,e("div",qe,[l(e("input",{type:"text",id:"username","onUpdate:modelValue":o[4]||(o[4]=r=>t(k).username=r),class:"block mt-1 w-full pl-4 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"nibros",autocomplete:"on",required:"",autofocus:""},null,512),[[f,t(k).username]])]),e("div",Be,[(s(!0),a(x,null,h(t(_).username,r=>(s(),a("div",{key:r},i(r),1))),128))])]),e("div",Fe,[Pe,e("div",Ue,[je,l(e("input",{type:"password",id:"password","onUpdate:modelValue":o[5]||(o[5]=r=>t(k).password=r),class:"block mt-1 w-full pl-11 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"Password",autocomplete:"on",required:""},null,512),[[f,t(k).password]])]),e("div",null,[e("div",Ae,[(s(!0),a(x,null,h(t(_).password,r=>(s(),a("div",{key:r},i(r),1))),128))])])]),e("div",De,[e("button",{class:"px-4 py-2.5 bg-emerald-600 border border-transparent rounded-md text-sm text-white text-center tracking-widest hover:bg-emerald-700 active:bg-emerald-900 focus:outline-none focus:border-emerald-900 focus:ring focus:ring-emerald-300 transition content-center items-center self-center flex-1 font-extrabold disabled:bg-emerald-400 dark:disabled:bg-emerald-600",disabled:t(n)},[t(n)?(s(),a("div",He,[l((s(),a("svg",{class:T([{"text-white":t(n)},"animate-spin w-4 h-5 mr-2"]),xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor"},Je,2)),[[V,t(n)]]),Ke])):(s(),a("div",Ye,"Masuk"))],8,Re)]),e("p",Ze,[g(" Belum punya akun? "),e("span",{class:"text-emerald-600 hover:text-emerald-800 cursor-pointer underline",onClick:o[6]||(o[6]=r=>u.value=!t(u))},"Daftar sekarang")])],32))])])])])}}};export{Ee as default};
