import{D as H,r as I,E as J,G as K,h as Y,I as y,o as s,c as a,b as L,w as M,d as v,a as e,m as t,v as N,J as l,K as f,t as i,x as z,F as x,s as h,L as V,q,T as Z,H as $,C as T}from"./entry.1de9dfe4.js";import{d as b,u as G,a as w,r as O,b as E,m as Q,n as W,c as X}from"./validationRules.6a62d1e7.js";const ee={class:"min-h-screen flex flex-row justify-center items-center bg-zinc-100 dark:bg-zinc-900"},te={class:"max-h-screen flex flex-row max-w-4xl bg-white dark:bg-zinc-800 shadow-md overflow-hidden rounded-xl"},re={class:"flex items-center p-12 py-auto w-full"},se=["onSubmit"],ae=e("div",{class:"mb-4 text-left"},[e("p",{class:"text-2xl font-bold mb-1 dark:!text-zinc-100"},[e("span",null,"Daftar")]),e("p",{class:"max-w-full text-sm mx-auto text-zinc-500 dark:text-zinc-400"}," Masukkan data diri untuk memulai menggunakan aplikasi. ")],-1),oe={class:"mt-4"},ne=e("label",{for:"name",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Nama ",-1),ie={class:"relative text-zinc-400 transition focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500"},de={class:"text-rose-700 text-xs mt-1 flex flex-col ml-4"},le={class:"list-disc list-outside"},ce={key:0},ue={class:"mt-4"},me=e("label",{for:"username",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Username ",-1),fe={class:"relative text-zinc-400 transition focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500"},xe={class:"text-rose-700 text-xs mt-1 flex flex-col ml-4"},he={class:"list-disc list-outside"},be={key:0},ke={class:"mt-4"},pe=e("div",{class:"flex justify-between"},[e("label",{for:"password",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Password ")],-1),ge={class:"relative text-zinc-400 focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500 transition"},ve=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"w-5 h-5 stroke-current",fill:"currentColor","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"},[e("path",{d:"M 12 1 C 8.6761905 1 6 3.6761905 6 7 L 6 8 C 4.9069372 8 4 8.9069372 4 10 L 4 20 C 4 21.093063 4.9069372 22 6 22 L 18 22 C 19.093063 22 20 21.093063 20 20 L 20 10 C 20 8.9069372 19.093063 8 18 8 L 18 7 C 18 3.6761905 15.32381 1 12 1 z M 12 3 C 14.27619 3 16 4.7238095 16 7 L 16 8 L 8 8 L 8 7 C 8 4.7238095 9.7238095 3 12 3 z M 6 10 L 18 10 L 18 20 L 6 20 L 6 10 z M 12 13 C 10.9 13 10 13.9 10 15 C 10 16.1 10.9 17 12 17 C 13.1 17 14 16.1 14 15 C 14 13.9 13.1 13 12 13 z"})])],-1),ze={class:"text-rose-700 text-xs mt-1 flex flex-col ml-4"},we={class:"list-disc list-outside"},_e={key:0},Ce={class:"flex mt-6 mb-4"},ye=["disabled"],Le={key:0,class:"flex flex-row justify-center"},Me=T('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),Ne=[Me],Ve=e("div",null,"Mengecek data",-1),qe={key:1},Te={class:"text-sm mx-auto text-zinc-500 text-center"},Se=e("div",{class:"mb-4 text-left"},[e("p",{class:"text-2xl font-bold mb-1"},[e("span",null,"Masuk")]),e("p",{class:"max-w-full text-sm mx-auto text-zinc-500 dark:text-zinc-400"}," Silahkan masuk dengan data akun anda untuk menjalankan aplikasi. ")],-1),Be=e("label",{for:"username",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Username ",-1),Fe={class:"relative text-zinc-400 transition focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500"},Pe={class:"text-rose-500 mt-1 text-xs"},Ue={class:"mt-4"},je=e("div",{class:"flex justify-between"},[e("label",{for:"password",class:"block font-bold text-sm text-zinc-700 dark:!text-zinc-100"}," Password ")],-1),Ae={class:"relative text-zinc-400 focus-within:text-emerald-500 hover:text-emerald-500 after:text-emerald-500 transition"},De=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3"},[e("svg",{class:"w-5 h-5 stroke-current",fill:"currentColor","stroke-width":"0",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24px",height:"24px"},[e("path",{d:"M 12 1 C 8.6761905 1 6 3.6761905 6 7 L 6 8 C 4.9069372 8 4 8.9069372 4 10 L 4 20 C 4 21.093063 4.9069372 22 6 22 L 18 22 C 19.093063 22 20 21.093063 20 20 L 20 10 C 20 8.9069372 19.093063 8 18 8 L 18 7 C 18 3.6761905 15.32381 1 12 1 z M 12 3 C 14.27619 3 16 4.7238095 16 7 L 16 8 L 8 8 L 8 7 C 8 4.7238095 9.7238095 3 12 3 z M 6 10 L 18 10 L 18 20 L 6 20 L 6 10 z M 12 13 C 10.9 13 10 13.9 10 15 C 10 16.1 10.9 17 12 17 C 13.1 17 14 16.1 14 15 C 14 13.9 13.1 13 12 13 z"})])],-1),Re={class:"text-rose-500 mt-1 text-xs"},He={class:"flex mt-6 mb-4"},Ie=["disabled"],Je={key:0,class:"flex flex-row justify-center"},Ke=T('<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"></animate></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"></animate><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"></animateTransform></path></g>',1),Ye=[Ke],Ze=e("div",null,"Mengecek data",-1),$e={key:1},Ge={class:"text-sm mx-auto text-zinc-500 text-center"},We={__name:"login",setup(Oe){b("required",O),b("requiredNum",E),b("min",Q),b("num",W),b("createPassword",X);const S={name:"required|min:1",username:"required|mail",password:"required|min:6|createPassword:1"},{validate:B,errors:c}=G({validationSchema:S}),{value:F}=w("name",null,{initialValue:"",label:"Nama"}),{value:P}=w("username",null,{initialValue:"",label:"Email"}),{value:U}=w("password",null,{initialValue:"",label:"Kata sandi"}),{loginForm:k,validationErrors:_,registerValidationErrors:p,processing:n,submitLogin:C,submitRegister:j}=H(),u=I(!1),g=J(),d=K({name:F,username:P,password:U});function A(){B().then(m=>{m.valid&&j(d)})}return Y(()=>{{let m={};m=localStorage.getItem("token"),m?(g.value=JSON.parse(localStorage.getItem("token")),g.value&&y("/")):(g.value="",y("/login"))}}),(m,o)=>{const D=Z,R=$;return s(),a("div",null,[L(R,null,{default:M(()=>[L(D,null,{default:M(()=>[v("Login â€¢ Test Fullstack Nibros")]),_:1})]),_:1}),e("div",ee,[e("div",te,[e("div",re,[t(u)===!0?(s(),a("form",{key:0,onSubmit:N(A,["prevent"])},[ae,e("div",oe,[ne,e("div",ie,[l(e("input",{type:"text",id:"name","onUpdate:modelValue":o[0]||(o[0]=r=>t(d).name=r),class:"block mt-1 w-full pl-4 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"Nibros Ari",autocomplete:"on",required:"",autofocus:""},null,512),[[f,t(d).name]])]),e("div",de,[e("ul",le,[t(c).name?(s(),a("li",ce,i(t(c).name),1)):z("",!0),(s(!0),a(x,null,h(t(p).name,r=>(s(),a("li",{key:r},i(r),1))),128))])])]),e("div",ue,[me,e("div",fe,[l(e("input",{type:"text",id:"username","onUpdate:modelValue":o[1]||(o[1]=r=>t(d).username=r),class:"block mt-1 w-full pl-4 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"nibroos",autocomplete:"on",required:"",autofocus:""},null,512),[[f,t(d).username]])]),e("div",xe,[e("ul",he,[t(c).username?(s(),a("li",be,i(t(c).username),1)):z("",!0),(s(!0),a(x,null,h(t(p).username,r=>(s(),a("li",{key:r},i(r),1))),128))])])]),e("div",ke,[pe,e("div",ge,[ve,l(e("input",{type:"password",id:"password","onUpdate:modelValue":o[2]||(o[2]=r=>t(d).password=r),class:"block mt-1 w-full pl-11 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"Password",required:"",autocomplete:"current-password"},null,512),[[f,t(d).password]])]),e("div",null,[e("div",ze,[e("ul",we,[t(c).password?(s(),a("li",_e,i(t(c).password),1)):z("",!0),(s(!0),a(x,null,h(t(p).password,r=>(s(),a("li",{key:r},i(r),1))),128))])])])]),e("div",Ce,[e("button",{class:"px-4 py-2.5 bg-emerald-600 border border-transparent rounded-md text-sm text-white text-center tracking-widest hover:bg-emerald-700 active:bg-emerald-900 focus:outline-none focus:border-emerald-900 focus:ring focus:ring-emerald-300 dark:focus:ring-emerald-600 transition content-center items-center self-center flex-1 font-extrabold disabled:bg-emerald-500 dark:disabled:bg-emerald-600",disabled:t(n)},[t(n)?(s(),a("div",Le,[l((s(),a("svg",{class:q([{"text-white":t(n)},"animate-spin w-4 h-5 mr-2"]),xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor"},Ne,2)),[[V,t(n)]]),Ve])):(s(),a("div",qe,"Buat Akun"))],8,ye)]),e("p",Te,[v(" Sudah punya akun? "),e("span",{class:"text-emerald-600 hover:text-emerald-800 cursor-pointer underline",onClick:o[3]||(o[3]=r=>u.value=!t(u))},"Masuk")])],40,se)):(s(),a("form",{key:1,onSubmit:o[7]||(o[7]=N((...r)=>t(C)&&t(C)(...r),["prevent"])),class:"dark:!text-zinc-100"},[Se,e("div",null,[Be,e("div",Fe,[l(e("input",{type:"text",id:"username","onUpdate:modelValue":o[4]||(o[4]=r=>t(k).username=r),class:"block mt-1 w-full pl-4 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"nibros",autocomplete:"on",required:"",autofocus:""},null,512),[[f,t(k).username]])]),e("div",Pe,[(s(!0),a(x,null,h(t(_).username,r=>(s(),a("div",{key:r},i(r),1))),128))])]),e("div",Ue,[je,e("div",Ae,[De,l(e("input",{type:"password",id:"password","onUpdate:modelValue":o[5]||(o[5]=r=>t(k).password=r),class:"block mt-1 w-full pl-11 py-2 bg-zinc-50 dark:bg-zinc-800 hover:bg-zinc-100 dark:hover:bg-zinc-900 placeholder-zinc-400 dark:placeholder-zinc-600 border-zinc-300 dark:border-zinc-600 focus:border-emerald-500 focus:ring-emerald-500 after:ring-emerald-500 dark:focus:border-emerald-500 dark:focus:ring-emerald-500 dark:after:ring-emerald-500 text-zinc-800 dark:!text-zinc-100 outline-0 hover:ring-0 after:border-emerald-600 focus:text-zinc-800 focus:ring-0 dark:focus:bg-zinc-900 border rounded-md shadow-sm transition text-sm",placeholder:"Password",autocomplete:"on",required:""},null,512),[[f,t(k).password]])]),e("div",null,[e("div",Re,[(s(!0),a(x,null,h(t(_).password,r=>(s(),a("div",{key:r},i(r),1))),128))])])]),e("div",He,[e("button",{class:"px-4 py-2.5 bg-emerald-600 border border-transparent rounded-md text-sm text-white text-center tracking-widest hover:bg-emerald-700 active:bg-emerald-900 focus:outline-none focus:border-emerald-900 focus:ring focus:ring-emerald-300 transition content-center items-center self-center flex-1 font-extrabold disabled:bg-emerald-400 dark:disabled:bg-emerald-600",disabled:t(n)},[t(n)?(s(),a("div",Je,[l((s(),a("svg",{class:q([{"text-white":t(n)},"animate-spin w-4 h-5 mr-2"]),xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor"},Ye,2)),[[V,t(n)]]),Ze])):(s(),a("div",$e,"Masuk"))],8,Ie)]),e("p",Ge,[v(" Belum punya akun? "),e("span",{class:"text-emerald-600 hover:text-emerald-800 cursor-pointer underline",onClick:o[6]||(o[6]=r=>u.value=!t(u))},"Daftar sekarang")])],32))])])])])}}};export{We as default};
